<ion-header style="background-color: #488aff; color: white;">
    <ion-navbar>
      <ion-title>
        Menús
      </ion-title>
    </ion-navbar>
  </ion-header>

<ion-content padding>
    <ion-list *ngIf="restaurant">
      <ion-item>
        <ion-avatar item-start>
          <img [src]="restaurant.Foto">
        </ion-avatar>
        <h2>{{ restaurant.Nombre }}</h2>
        <p text-wrap>{{restaurant.Direccion}}</p>
        <p text-wrap>
          <strong>{{restaurant.Tipo}}</strong>
        </p>
      </ion-item>
      <ion-item *ngIf="mesaSeleccionada">
        <h2>{{mesaSeleccionada.Nombre}}</h2>
        <h3>Para {{mesaSeleccionada.Cantidad}} personas</h3>
      </ion-item>
    
    </ion-list>
    <ion-card>
    
      <ion-card-header>
        Agregue Menús
      </ion-card-header>
    
      <ion-card-content>
        <!-- Add card content here! -->
        <ion-list>
            <ion-item>
              <ion-label>Menú</ion-label>
              <ion-select [(ngModel)]="menuAgregar">
                  <ion-option *ngFor="let menu of item.Menus" [value] = "menu.Id" (ionSelect)="seleccionarMenu(menu)">{{menu.Nombre}}</ion-option>
              </ion-select>
            </ion-item>
            <ion-item *ngIf="menuSeleccionado">
              <h5 text-wrap>{{menuSeleccionado.Entrada}}</h5>
              <h5 text-wrap>{{menuSeleccionado.Fondo}}</h5>
              <h5 text-wrap>{{menuSeleccionado.Bebestible}}</h5>
              <h5 text-wrap>{{menuSeleccionado.Postre}}</h5>
              
            </ion-item>
            <ion-item *ngIf="menuSeleccionado">
                <ion-badge color="danger" item-end>{{menuSeleccionado.Valor}}</ion-badge>
            </ion-item>
            <button ion-button full (click)="agregarMenu()">Agregar</button>
          </ion-list>

      </ion-card-content>
    
    </ion-card>
    <!--lista de menus-->
    <ion-list>
        <ion-list-header>
          Menús agregados  
          <ion-badge *ngIf="faltan > 0" color="success" item-end>Falta(n) {{faltan}} menú(s)</ion-badge>
          <ion-badge *ngIf="arrMenus.length == totalCompletar" color="danger" item-end>Completo</ion-badge>
        </ion-list-header>
        <ion-item *ngFor="let item of arrMenus">
          <h2>{{item.Nombre}}</h2>
          <p text-wrap text-justify>{{item.Entrada}}, {{item.Fondo}}, {{item.Bebestible}} {{item.Postre}}</p>
          <ion-icon name="trash" item-end (click)="quitarMenu(item)"></ion-icon>
        </ion-item>
        <ion-item>
          <strong>Total: {{total}}</strong>
        </ion-item>

      </ion-list>

    <ion-item no-lines style="margin-top:3%">
        <ion-col>
            <button ion-button color="secondary" (click)="closeModal(null)" clear>Cancelar</button>
        </ion-col>
        <ion-col>
            <button  style="float: right;" ion-button color="primary" (click)="abrirReserva()" clear>Siguiente</button>
        </ion-col>
    </ion-item>
</ion-content>
